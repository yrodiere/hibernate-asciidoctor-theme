<!-- Google Analytics -->
<script type="text/javascript">
	dataLayer = [{'channel' : '${html.google-analytics.tag-manager.channel}', 'additional_tracking_code' : '${html.google-analytics.id}'}];
	(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
		new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
		j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','${html.google-analytics.tag-manager.id}');
</script>
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=${html.google-analytics.tag-manager.id}" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- /Google Analytics -->

<!-- HibernateDoc.OutdatedContent -->
<script src="//code.jquery.com/jquery-3.1.0.min.js" integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s=" crossorigin="anonymous"></script>
<script src="/hibernate/_outdated-content/outdated-content.js" type="text/javascript"></script>
<script type="text/javascript">var jQuery_3_1 = $.noConflict(true); jQuery_3_1(document).ready(function() { HibernateDoc.OutdatedContent.install('${html.outdated-content.project-key}'); });</script>
<!-- /HibernateDoc.OutdatedContent -->

<!-- Dynamic TOC -->
<!-- Source: https://github.com/asciidoctor/asciidoctor/issues/699#issuecomment-321066006 -->
<script src="script/tocbot-3.0.2/tocbot.min.js"></script>
<script>
    /* Tocbot dynamic TOC, works with tocbot 3.0.2 */
    /* Source: https://github.com/asciidoctor/asciidoctor/issues/699#issuecomment-321066006 * Also, adapted to auto-detect the heading selector.
     */
    var oldtoc = document.getElementById('toctitle').nextElementSibling;

    var headingSelectorVal;
    if (oldtoc.querySelector('.sectlevel5')) {
        headingSelectorVal = 'h1, h2, h3, h4, h5, h6'
    }
    else if (oldtoc.querySelector('.sectlevel4')) {
        headingSelectorVal = 'h1, h2, h3, h4, h5'
    }
    else if (oldtoc.querySelector('.sectlevel3')) {
        headingSelectorVal = 'h1, h2, h3, h4'
    }
    else if (oldtoc.querySelector('.sectlevel2')) {
        headingSelectorVal = 'h1, h2, h3'
    }
    else if (oldtoc.querySelector('.sectlevel1')) {
        headingSelectorVal = 'h1, h2'
    }
    else {
        // In case something went wrong
        headingSelectorVal = 'h1, h2, h3, h4'
    }

    var newtoc = document.createElement('div');
    newtoc.setAttribute('id', 'tocbot');
    newtoc.setAttribute('class', 'js-toc');
    oldtoc.parentNode.replaceChild(newtoc, oldtoc);
    tocbot.init({ contentSelector: '#content',
        headingSelector: headingSelectorVal,
        smoothScroll: false });
    var handleTocOnResize = function() {
        var width = window.innerWidth
                    || document.documentElement.clientWidth
                    || document.body.clientWidth;
        if (width < 768) {
            tocbot.refresh({ contentSelector: '#content',
                headingSelector: headingSelectorVal,
                collapseDepth: 6,
                activeLinkClass: 'ignoreactive',
                throttleTimeout: 1000,
                smoothScroll: false });
        }
        else {
            tocbot.refresh({ contentSelector: '#content',
                headingSelector: headingSelectorVal,
                smoothScroll: false });
        }
    };
    window.addEventListener('resize', handleTocOnResize);
    handleTocOnResize();
</script>
<!-- /Dynamic TOC -->